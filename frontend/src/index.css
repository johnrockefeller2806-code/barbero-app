@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --background: 0 0% 100%;
        --foreground: 152 81% 14%;
        --card: 0 0% 100%;
        --card-foreground: 152 81% 14%;
        --popover: 0 0% 100%;
        --popover-foreground: 152 81% 14%;
        --primary: 152 81% 16%;
        --primary-foreground: 0 0% 100%;
        --secondary: 140 76% 97%;
        --secondary-foreground: 152 81% 16%;
        --muted: 210 40% 96.1%;
        --muted-foreground: 215 16% 47%;
        --accent: 36 91% 44%;
        --accent-foreground: 0 0% 100%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 0 0% 98%;
        --border: 214 32% 91%;
        --input: 214 32% 91%;
        --ring: 152 81% 16%;
        --radius: 0.75rem;
        --chart-1: 12 76% 61%;
        --chart-2: 173 58% 39%;
        --chart-3: 197 37% 24%;
        --chart-4: 43 74% 66%;
        --chart-5: 27 87% 67%;
    }
}

@layer base {
    * {
        @apply border-border;
    }
    body {
        @apply bg-background text-foreground font-sans antialiased;
    }
    h1, h2, h3, h4, h5, h6 {
        @apply font-serif tracking-tight;
    }
}

@layer utilities {
    .text-balance {
        text-wrap: balance;
    }
    .animate-in {
        animation: fade-in 0.4s ease-out forwards;
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
}

/* Debug wrapper styles */
@layer base {
    [data-debug-wrapper="true"] {
        display: contents !important;
    }
}

/* Mobile viewport fix for chat */
@supports (height: 100dvh) {
    .h-dvh {
        height: 100dvh;
    }
}

/* Safe area for mobile devices */
.safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Fix for iOS keyboard */
@supports (-webkit-touch-callout: none) {
    input, textarea {
        font-size: 16px !important; /* Prevents zoom on iOS */
    }
}

/* Chat scrollbar dark theme */
.chat-scrollbar::-webkit-scrollbar {
    width: 6px;
}

.chat-scrollbar::-webkit-scrollbar-track {
    background: #0b141a;
}

.chat-scrollbar::-webkit-scrollbar-thumb {
    background: #374045;
    border-radius: 3px;
}

.chat-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #4a5568;
}

/* Hide Emergent badge on chat page */
[data-testid="chat-page"] ~ div[style*="position: fixed"],
.chat-page-active div[style*="Made with Emergent"],
body:has([data-testid="chat-page"]) div[style*="position: fixed"][style*="bottom"] {
    display: none !important;
}

/* Alternative: Move badge higher on mobile chat */
@media (max-width: 768px) {
    body:has([data-testid="chat-page"]) iframe,
    body:has([data-testid="chat-page"]) div[style*="position: fixed"][style*="right"] {
        bottom: 80px !important;
        z-index: 1 !important;
    }
}
